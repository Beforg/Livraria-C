
-----

# üìö Locadora Digital

Um sistema de gerenciamento para uma locadora de livros, desenvolvido em linguagem C. O projeto permite cadastrar, editar, pesquisar e alugar livros, al√©m de gerar relat√≥rios de loca√ß√µes. Todos os dados s√£o persistidos em arquivos de texto (`.csv` / `.txt`).

-----

## Tabela de Conte√∫dos

- [Sobre o Projeto](https://www.google.com/search?q=%23sobre-o-projeto)
- [Funcionalidades](https://www.google.com/search?q=%23funcionalidades)
- [Estrutura dos Arquivos de Dados](https://www.google.com/search?q=%23estrutura-dos-arquivos-de-dados)
    - [LivrosLocadora.csv](https://www.google.com/search?q=%23livroslocadoracsv)
    - [Locacoes.txt](https://www.google.com/search?q=%23locacoestxt)
- [Como Compilar e Executar](https://www.google.com/search?q=%23como-compilar-e-executar)
- [Estrutura do C√≥digo](https://www.google.com/search?q=%23estrutura-do-c%C3%B3digo)
- [Autor](https://www.google.com/search?q=%23autor)

-----

## Sobre o Projeto

A **Locadora Digital** √© um software de console (terminal) que simula as opera√ß√µes b√°sicas de uma locadora de livros. Ele gerencia um cat√°logo de livros e um registro de todas as loca√ß√µes realizadas. O programa carrega os dados dos arquivos ao iniciar, permite que o usu√°rio interaja com os dados em mem√≥ria e, opcionalmente, pode salvar as altera√ß√µes de volta no arquivo de cat√°logo.

As principais entidades do sistema s√£o:

- **Livro**: Representa um livro no cat√°logo, com atributos como c√≥digo, t√≠tulo, autor, ano, valor do aluguel, etc.
- **Loca√ß√£o**: Representa o aluguel de um livro por um cliente em uma determinada data.

-----

## Funcionalidades

O sistema oferece um menu interativo com as seguintes op√ß√µes:

- **1. Pesquisar Livro por T√≠tulo**:

    - Permite ao usu√°rio digitar parte de um t√≠tulo e lista todos os livros que correspondem √† busca.

- **2. Alugar Livro**:

    - Solicita o nome do cliente e o c√≥digo do livro desejado.
    - Se o livro for encontrado, registra a loca√ß√£o no arquivo `Locacoes.txt` com a data atual.

- **3. Relat√≥rios**:

    - **Exibir todas as loca√ß√µes**: Mostra um relat√≥rio detalhado de todas as loca√ß√µes registradas, incluindo cliente, data e informa√ß√µes do livro.
    - **Pesquisar loca√ß√£o por cliente**: Busca e agrupa todas as loca√ß√µes feitas por um cliente espec√≠fico, calculando o valor total.

- **4. Gerenciar Livros**:

    - **Adicionar Livro**: Permite adicionar um novo livro ao cat√°logo (em mem√≥ria), validando se o c√≥digo j√° existe.
    - **Editar Livro**: Busca um livro pelo c√≥digo e permite ao usu√°rio alterar todas as suas informa√ß√µes.
    - **Exibir Livros**: Lista todos os livros do cat√°logo, ordenados alfabeticamente por t√≠tulo.
    - **Salvar Altera√ß√µes**: Sobrescreve o arquivo `LivrosLocadora.csv` com os dados atuais do cat√°logo em mem√≥ria (incluindo livros adicionados/editados), ordenando-os por c√≥digo.

- **5. Sobre**:

    - Exibe informa√ß√µes sobre o projeto.

- **0. Sair**:

    - Encerra o programa.

-----

## Estrutura dos Arquivos de Dados

O programa utiliza dois arquivos para persistir os dados:

### `LivrosLocadora.csv`

Arquivo no formato CSV (Comma-Separated Values) utilizando ponto e v√≠rgula (`;`) como delimitador. A primeira linha √© um cabe√ßalho e √© ignorada pelo programa ao carregar os dados.

**Formato:**
`ID;T√≠tulo;Autor(a);Ano;Editora;P√°ginas;G√™nero;Valor de Aluguel (R$)`

**Exemplo:**

```csv
ID;T√≠tulo;Autor(a);Ano;Editora;P√°ginas;G√™nero;Valor de Aluguel (R$)
20;O Pequeno Pr√≠ncipe;Antoine de Saint-Exup√©ry;1943;Gallimard;96;F√°bula;8.00
52;Cabra Cega;Raphael Montes;2019;Companhia das Letras;320;Suspense;19.00
```

### `Locacoes.txt`

Arquivo de texto simples onde cada linha representa o aluguel de um √∫nico livro, com campos separados por ponto e v√≠rgula (`;`). Novas loca√ß√µes s√£o adicionadas ao final do arquivo.

**Formato:**
`Nome do Cliente;Data do Aluguel;C√≥digo do Livro;T√≠tulo do Livro;Valor do Aluguel`

**Exemplo:**

```txt
Maria;11/06/2025;34;Lolita;17.00
Maria;11/06/2025;33;O Sol √© para Todos;14.00
Bruno Forgiarini;12/06/2025;20;O Pequeno Pr√≠ncipe;8.00
```

-----

## Como Compilar e Executar

### Pr√©-requisitos

Para compilar e executar este projeto, voc√™ precisa de um compilador C, como o **GCC (GNU Compiler Collection)**.

### Passos

1.  **Clone o reposit√≥rio ou baixe os arquivos** para um diret√≥rio em seu computador. Certifique-se de que os arquivos `LivrosLocadora.csv` e `Locacoes.txt` (mesmo que vazios) estejam no mesmo diret√≥rio que o c√≥digo-fonte (`.c`).

2.  **Abra um terminal** ou prompt de comando no diret√≥rio do projeto.

3.  **Compile o c√≥digo** usando o seguinte comando:

    ```bash
    gcc -o locadora_digital seu_arquivo_fonte.c -Wextra -Wall
    ```

    *Substitua `seu_arquivo_fonte.c` pelo nome do seu arquivo C.*

    * `-o locadora_digital` define o nome do programa execut√°vel.
    * `-Wextra -Wall` s√£o flags recomendadas que ativam avisos extras do compilador, ajudando a encontrar poss√≠veis erros.

4.  **Execute o programa:**

    ```bash
    ./locadora_digital
    ```

O menu interativo da locadora ser√° exibido no terminal.

-----

## Estrutura do C√≥digo

O c√≥digo √© estruturado em v√°rias fun√ß√µes modulares, cada uma com uma responsabilidade espec√≠fica:

- `main()`: Ponto de entrada do programa. Carrega os dados, controla o loop do menu principal e gerencia as chamadas para outras fun√ß√µes.
- `carregarLivros()`: Respons√°vel por ler o arquivo `LivrosLocadora.csv` e popular o array de `structs Livro`.
- `carregarLocacoes()`: L√™ o arquivo `Locacoes.txt` e preenche o array de `structs Locacao`, vinculando cada loca√ß√£o a um livro do cat√°logo.
- `salvarAlteracoesNoArquivo()`: Sobrescreve o arquivo `LivrosLocadora.csv` com os dados do array de livros em mem√≥ria.
- `adicionarLivro()`, `editarLivro()`: Fun√ß√µes para manipula√ß√£o do cat√°logo de livros.
- `alugarLivro()`: Gerencia o processo de aluguel e salva o registro em `Locacoes.txt`.
- `buscarLivroPorCodigo()`: Uma fun√ß√£o utilit√°ria crucial que procura um livro em mem√≥ria a partir de seu c√≥digo.
- `comparar...()`: Fun√ß√µes de compara√ß√£o passadas para a fun√ß√£o `qsort` para ordenar os dados por diferentes crit√©rios.
- `exibir...()`, `menu...()`: Fun√ß√µes respons√°veis pela interface com o usu√°rio (menus e exibi√ß√£o de dados).

-----

## Autor

**Bruno Forgiarini**

*Trabalho de Algoritmos EC11 2025/1*